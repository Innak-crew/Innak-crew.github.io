<!DOCTYPE html>
<html>
  <head>
    <title>Project</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
	
  </head>
  <body class="container">
    <h1 class="text-success">Add and Save Data in JSON Format</h1>
	<div class="row">
	<div class=" col-sm-12">
    <form>
	
  <div class="form-group col-sm-4">
    <label for="name">Name:</label>
    <input type="text" class="form-control" id="name" name="name" placeholder="Enter your name">
  </div>
  <div class="form-group col-sm-4">
    <label for="age">Age:</label>
	    <select class="form-control" id="age" name="age">
		<option value="">Select-age</option>
      <option value="20-30">20-30</option>
      <option value="30-40">30-40</option>
      <option value="40-50">40-50</option>
	  <option value="50-60">50-60</option>
	  <option value="above 60">above 60</option>
    </select>
  </div>
  <div class="form-group col-sm-4">
    <label for="gender">Gender:</label>
    <select class="form-control" id="gender" name="gender">
      <option value="male">Male</option>
      <option value="female">Female</option>
      <option value="other">Other</option>
    </select>
  </div>
  <div class="form-group col-sm-4">
    <label for="experiences">Experiences:</label>
	    <select class="form-control" id="experiences" name="experiences">
		<option value="">Select-Experiences</option>
      <option value="0-5">0-5</option>
      <option value="5-10">5-10</option>
      <option value="10-15">10-15</option>
	  <option value="15-20">15-20</option>
	  <option value="above 20">above 20</option>
    </select>
  </div>
  <div class="form-group col-sm-4">
    <label for="risk_factors">Risk Factors:</label><br>
    <input type="text" class="form-control" id="data_1" name="data_1" placeholder="Enter value of  risk factor 1"><br>
    <input type="text" class="form-control" id="data_2" name="data_2" placeholder="Enter value of  risk factor 2"><br>
    <input type="text" class="form-control" id="data_3" name="data_3" placeholder="Enter value of  risk factor 3"><br>
    <input type="text" class="form-control" id="data_4" name="data_4" placeholder="Enter value of  risk factor 4"><br>
    <input type="text" class="form-control" id="data_5" name="data_5" placeholder="Enter value of  risk factor 5"><br>
    <input type="text" class="form-control" id="data_6" name="data_6" placeholder="Enter value of  risk factor 6"><br>
    <input type="text" class="form-control" id="data_7" name="data_7" placeholder="Enter value of  risk factor 7"><br>
    <input type="text" class="form-control" id="data_8" name="data_8" placeholder="Enter value of  risk factor 8"><br>
    <input type="text" class="form-control" id="data_9" name="data_9" placeholder="Enter value of  risk factor 9"><br>
    <input type="text" class="form-control" id="data_10" name="data_10" placeholder="Enter value of  risk factor 10"><br>
    <input type="text" class="form-control" id="data_11" name="data_11" placeholder="Enter value of  risk factor 11"><br>
    <input type="text" class="form-control" id="data_12" name="data_12" placeholder="Enter value of  risk factor 12"><br>
    <input type="text" class="form-control" id="data_13" name="data_13" placeholder="Enter value of  risk factor 13"><br>
    <input type="text" class="form-control" id="data_14" name="data_14" placeholder="Enter value of  risk factor 14"><br>
    <input type="text" class="form-control" id="data_15" name="data_15" placeholder="Enter value of  risk factor 15"><br>
    <input type="text" class="form-control" id="data_16" name="data_16" placeholder="Enter value of  risk factor 16"><br>
	<input type="text" class="form-control" id="data_17" name="data_17" placeholder="Enter value of  risk factor 17"><br>
    <input type="text" class="form-control" id="data_18" name="data_18" placeholder="Enter value of  risk factor 18"><br>
    <input type="text" class="form-control" id="data_19" name="data_19" placeholder="Enter value of  risk factor 19"><br>
    <input type="text" class="form-control" id="data_20" name="data_20" placeholder="Enter value of  risk factor 20"><br>
    <input type="text" class="form-control" id="data_21" name="data_21" placeholder="Enter value of  risk factor 21"><br>
    <input type="text" class="form-control" id="data_22" name="data_22" placeholder="Enter value of  risk factor 22"><br>
    <input type="text" class="form-control" id="data_23" name="data_23" placeholder="Enter value of  risk factor 23"><br>
    <input type="text" class="form-control" id="data_24" name="data_24" placeholder="Enter value of  risk factor 24"><br>
    <input type="text" class="form-control" id="data_25" name="data_25" placeholder="Enter value of  risk factor 25"><br>
    <input type="text" class="form-control" id="data_26" name="data_26" placeholder="Enter value of  risk factor 26"><br>
    <input type="text" class="form-control" id="data_27" name="data_27" placeholder="Enter value of  risk factor 27"><br>
    <input type="text" class="form-control" id="data_28" name="data_28" placeholder="Enter value of  risk factor 28"><br>
    <input type="text" class="form-control" id="data_29" name="data_29" placeholder="Enter value of  risk factor 29"><br>
    <input type="text" class="form-control" id="data_30" name="data_30" placeholder="Enter value of  risk factor 30"><br>
      <input class="btn btn-success" type="button" value="Save" onclick="saveData()">
    </form>
    <script>
      function saveData() {
  var name = document.getElementById("name").value;
  var age = document.getElementById("age").value;
  var gender = document.getElementById("gender").value;
var experiences = document.getElementById("experiences").value;
  // Get the values of all the data_* fields in an array
  var riskFactorsArr = [];
  for (var i = 1; i <= 30; i++) {
    var fieldName = "data_" + i;
    var fieldValue = document.getElementById(fieldName).value;
    riskFactorsArr.push(fieldValue);
  }

  // Create an object with the risk factors array
  var riskFactors = { };
  for (var i = 0; i < riskFactorsArr.length; i++) {
    var fieldName = "data_" + (i+1);
    riskFactors[fieldName] = riskFactorsArr[i];
  }

  // Create the new data object with all the fields
  var newData = {
    "name": name,
    "age": age,
    "gender": gender,
	"experiences":experiences,
    "risk_factors": riskFactors
  };

  var jsonData = JSON.stringify(newData);

  // You can save the JSON data using localStorage or sending it to a server via AJAX request.
  // For example, to save the JSON data using localStorage:
  console.log("newData", jsonData);
   // Make an HTTP POST request to the Telegram Bot API to send the data
  var telegramBotToken = "";
  var telegramChatId = "";
  var telegramApiUrl = "https://api.telegram.org/bot5830822420:AAGvhHGM5UIEOKo6hUa4lPQkwoAdnW8i5eQ/sendMessage?chat_id=-839594516&text="+ encodeURIComponent(jsonData);

  fetch(telegramApiUrl, {
    method: "POST",
    headers: {
      "Content-Type": "application/x-www-form-urlencoded"
    },
  })
  .then(response => response.json())
  .then(data => {
    console.log("Telegram Bot API response:", data);
    alert("Data saved in JSON format and sent to Telegram Bot!");
  })
  .catch(error => {
    console.error("Error sending data to Telegram Bot:", error);
    alert("Error sending data to Telegram Bot!");
  });
}

    </script>
  </body>
</div>
</div>
</html>
